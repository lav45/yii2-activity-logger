# Очистки логов

## Добавим консольный контроллер

Это необязательное расширение. Если вы не планируете удалять устаревшие логи, можете пропустить этот пункт.

```php
return [
    'controllerMap' => [
        'logger' => [
            '__class' => \lav45\activityLogger\console\DefaultController::class
        ]
    ],
];
```

Если необходимо удалить старые логи, используйте консольный контроллер:

```bash
yii logger/clean --old-than=1y
# => Deleted 5 record(s) from the activity log.
```

## Параметры командной строки

* `--entity-id, -eid`: Идентификатор целевого объекта

* `--entity-name, -e`: Псевдоним имени целевого объекта

* `--user-id, -uid`: Идентификатор пользователя, который выполнил действие

* `--log-action, -a`: Действие, которое было произведено над объектом

* `--env`: Среда, из которой производилось действие

* `--old-than, -o`: Удаление старых данных.

  Допустимые значения:
    - 1h - старше 1 часа
    - 2d - старше 2-х дней
    - 3m - старше 3-х месяцев
    - 4y - старше 4 лет